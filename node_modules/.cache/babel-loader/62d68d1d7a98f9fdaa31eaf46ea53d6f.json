{"ast":null,"code":"import { handleResponse } from \"./api\";\nconst API_REGISTER_URL = 'http://localhost:8080/register';\nconst API_LOGIN_URL = 'http://localhost:8080/login';\nconst API_BASE_URL = \"http://localhost:8080/users\";\n\nconst createFetchOptions = (method, body) => ({\n  method: method,\n  headers: {\n    \"Content-Type\": \"application/json\"\n  },\n  body: JSON.stringify(body)\n});\n\nexport const registerUser = (username, password) => {\n  return fetch(API_REGISTER_URL, createFetchOptions('POST', {\n    username,\n    password\n  })).then(r => r.json()).then(res => {\n    if (res.status >= 400) {\n      throw Error(res.error);\n    }\n\n    return res;\n  });\n};\nexport const loginUser = (username, password) => {\n  return fetch(API_LOGIN_URL, createFetchOptions('POST', {\n    username,\n    password\n  })).then(r => r.json()).then(handleResponse);\n};\nexport const fetchUsers = () => {\n  return fetch(API_BASE_URL, {\n    method: 'GET',\n    'Content-Type': 'application/json'\n  }).then(r => r.json()).then(handleResponse);\n};","map":{"version":3,"sources":["C:/Users/agrevs/Documents/Experis Academy/Lecture Tasks - VS Code/Frontend/chat-app/client/src/api/user.api.js"],"names":["handleResponse","API_REGISTER_URL","API_LOGIN_URL","API_BASE_URL","createFetchOptions","method","body","headers","JSON","stringify","registerUser","username","password","fetch","then","r","json","res","status","Error","error","loginUser","fetchUsers"],"mappings":"AAAA,SAASA,cAAT,QAA+B,OAA/B;AAEA,MAAMC,gBAAgB,GAAG,gCAAzB;AACA,MAAMC,aAAa,GAAG,6BAAtB;AACA,MAAMC,YAAY,GAAG,6BAArB;;AAGA,MAAMC,kBAAkB,GAAG,CAACC,MAAD,EAASC,IAAT,MAAmB;AAC1CD,EAAAA,MAAM,EAAEA,MADkC;AAE1CE,EAAAA,OAAO,EAAE;AACP,oBAAgB;AADT,GAFiC;AAK1CD,EAAAA,IAAI,EAAEE,IAAI,CAACC,SAAL,CAAeH,IAAf;AALoC,CAAnB,CAA3B;;AAQA,OAAO,MAAMI,YAAY,GAAG,CAACC,QAAD,EAAWC,QAAX,KAAwB;AAChD,SAAOC,KAAK,CACRZ,gBADQ,EAERG,kBAAkB,CAAC,MAAD,EAAS;AACnBO,IAAAA,QADmB;AAEnBC,IAAAA;AAFmB,GAAT,CAFV,CAAL,CAOLE,IAPK,CAOAC,CAAC,IAAIA,CAAC,CAACC,IAAF,EAPL,EAQNF,IARM,CAQDG,GAAG,IAAI;AACT,QAAIA,GAAG,CAACC,MAAJ,IAAc,GAAlB,EAAuB;AACnB,YAAMC,KAAK,CAACF,GAAG,CAACG,KAAL,CAAX;AACH;;AACD,WAAOH,GAAP;AACH,GAbM,CAAP;AAcH,CAfM;AAiBP,OAAO,MAAMI,SAAS,GAAG,CAACV,QAAD,EAAWC,QAAX,KAAwB;AAC7C,SAAOC,KAAK,CACRX,aADQ,EAERE,kBAAkB,CAAC,MAAD,EAAS;AACnBO,IAAAA,QADmB;AAEnBC,IAAAA;AAFmB,GAAT,CAFV,CAAL,CAOLE,IAPK,CAOAC,CAAC,IAAIA,CAAC,CAACC,IAAF,EAPL,EAQNF,IARM,CAQDd,cARC,CAAP;AASH,CAVM;AAYP,OAAO,MAAMsB,UAAU,GAAG,MAAM;AAC5B,SAAOT,KAAK,CACRV,YADQ,EACM;AAAEE,IAAAA,MAAM,EAAE,KAAV;AAAiB,oBAAgB;AAAjC,GADN,CAAL,CAELS,IAFK,CAEAC,CAAC,IAAIA,CAAC,CAACC,IAAF,EAFL,EAGNF,IAHM,CAGDd,cAHC,CAAP;AAIH,CALM","sourcesContent":["import { handleResponse } from \"./api\";\r\n\r\nconst API_REGISTER_URL = 'http://localhost:8080/register';\r\nconst API_LOGIN_URL = 'http://localhost:8080/login';\r\nconst API_BASE_URL = \"http://localhost:8080/users\";\r\n\r\n\r\nconst createFetchOptions = (method, body) => ({\r\n    method: method,\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify(body)\r\n  });\r\n\r\nexport const registerUser = (username, password) => {\r\n    return fetch(\r\n        API_REGISTER_URL, \r\n        createFetchOptions('POST', {\r\n                username, \r\n                password \r\n            }\r\n        )\r\n    ).then(r => r.json())\r\n    .then(res => {\r\n        if (res.status >= 400) {\r\n            throw Error(res.error);\r\n        }\r\n        return res;\r\n    });\r\n}\r\n\r\nexport const loginUser = (username, password) => {\r\n    return fetch(\r\n        API_LOGIN_URL, \r\n        createFetchOptions('POST', {\r\n                username, \r\n                password \r\n            }\r\n        )\r\n    ).then(r => r.json())\r\n    .then(handleResponse);\r\n}\r\n\r\nexport const fetchUsers = () => {\r\n    return fetch(\r\n        API_BASE_URL, { method: 'GET', 'Content-Type': 'application/json'}\r\n    ).then(r => r.json())\r\n    .then(handleResponse);\r\n}\r\n"]},"metadata":{},"sourceType":"module"}